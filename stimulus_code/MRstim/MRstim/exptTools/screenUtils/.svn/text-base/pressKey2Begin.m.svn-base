function pressKey2Begin(display, onlyWaitKb, speak, pressString)% pressKey2Begin(display, [onlyWaitKb=1], [speak=0])%%   Displays 'please press any key to begin' on the SCREEN%   just below the center of the screen and waits for the %   user to press a key.%%   if onlyWaitKb flag is true (default), we'll try to only wait for%   internal keyboard keys (useful to avoid catching button presses from an%   external device).%% SEE ALSO clickMouse2Begin dispStringInCenter% 1/20/97 gmb wrote it.% 07/2005 SOD modified% 05/2008 RAS added 'speak' option. Defaults to 0, so it stops freaking me% out. :)  % 07/2008 RAS there were 2 versions in the repository. I chose to keep the% one in screenUtils, removed the one in misc.if(~exist('onlyWaitKb','var') | isempty(onlyWaitKb))    onlyWaitKb = true;endif(~exist('speak','var') | isempty(speak))    speak = false;endif(~exist('pressString','var') | isempty(pressString))	pressString = 'please press any key to begin.';endScreen('FillRect', display.windowPtr, display.backColorRgb);drawFixation(display);dispStringInCenter(display, pressString,0.55);if(speak)    % this will only work on mac and is put here for cases where the screens    % are mirrored and you may not see the 'go ahead' message.    eval('system(sprintf(''say %s'',pressString));',''); end% KbWait and KbCheck are device dependentif onlyWaitKb & isfield(display,'devices'),    % wait for input of experimentor only    while ~KbCheck(display.devices.keyInputInternal),        WaitSecs(0.01); % give time back to OS - important    end;else,    % just wait for any press    % KbWait is unreliable probably would need a device input as well    % but this is not an option (Psychtoolbox 1.0.5)    pause;end;return;